{"version":3,"file":"floating-button.js","sources":["../elements/floating-button/index.ts"],"sourcesContent":["import { DefineOnce } from '../../util'\nimport { floatButtonStyle, iconWrapperStyle } from './style.css'\n\nexport class ShadeFloatingButton extends HTMLElement {\n\tprivate iconWrapper = document.createElement('span')\n\n\tconstructor() {\n\t\tsuper()\n\t\tthis.iconWrapper.classList.add(iconWrapperStyle)\n\t}\n\n\tconnectedCallback() {\n\t\tthis.classList.add(floatButtonStyle)\n\n\t\tif (this.hasAttribute('icon')) {\n\t\t\tthis.drawIcon()\n\t\t}\n\n\t\tif (this.hasAttribute('text-color')) {\n\t\t\tthis.setTextColor()\n\t\t}\n\n\t\tif (this.hasAttribute('background-color')) {\n\t\t\tthis.setBackgroundColor()\n\t\t}\n\t}\n\n\tasync drawIcon() {\n\t\tconst iconHref = this.getAttribute('icon')\n\t\tif (!iconHref) return\n\n\t\tconst iconFetch = await fetch(iconHref)\n\t\tconst iconSource = await iconFetch.text()\n\n\t\tthis.iconWrapper.innerHTML = iconSource\n\t\tthis.insertBefore(this.iconWrapper, this.firstChild)\n\n\t\tthis.setIconSize()\n\t}\n\n\tsetIconSize() {\n\t\tconst iconWrapper = this.iconWrapper\n\t\tif (!iconWrapper) return\n\n\t\tconst iconWidth = this.getAttribute('icon-width')\n\t\tconst iconHeight = this.getAttribute('icon-height')\n\n\t\tif (iconWidth) {\n\t\t\ticonWrapper.style.setProperty(\n\t\t\t\t'--sh-floating-button-icon-width',\n\t\t\t\ticonWidth,\n\t\t\t)\n\t\t}\n\n\t\tif (iconHeight) {\n\t\t\ticonWrapper.style.setProperty(\n\t\t\t\t'--sh-floating-button-icon-height',\n\t\t\t\ticonHeight,\n\t\t\t)\n\t\t}\n\t}\n\n\tsetTextColor() {\n\t\tconst textColor = this.getAttribute('text-color')\n\t\tif (!textColor) return\n\n\t\tthis.style.setProperty('--sh-floating-button-text-color', textColor)\n\t}\n\n\tsetBackgroundColor() {\n\t\tconst backgroundColor = this.getAttribute('background-color')\n\t\tif (!backgroundColor) return\n\n\t\tthis.style.setProperty(\n\t\t\t'--sh-floating-button-background-color',\n\t\t\tbackgroundColor,\n\t\t)\n\t}\n}\n\nDefineOnce.define('sh-floating-button', ShadeFloatingButton)\n"],"names":["ShadeFloatingButton","__publicField","iconWrapperStyle","floatButtonStyle","iconHref","iconSource","iconWrapper","iconWidth","iconHeight","textColor","backgroundColor","DefineOnce"],"mappings":";;;;;;;AAGO,MAAMA,UAA4B,YAAY;AAAA,EAGpD,cAAc;AACP;AAHC,IAAAC,EAAA,qBAAc,SAAS,cAAc,MAAM;AAI7C,SAAA,YAAY,UAAU,IAAIC,CAAgB;AAAA,EAChD;AAAA,EAEA,oBAAoB;AACd,SAAA,UAAU,IAAIC,CAAgB,GAE/B,KAAK,aAAa,MAAM,KAC3B,KAAK,SAAS,GAGX,KAAK,aAAa,YAAY,KACjC,KAAK,aAAa,GAGf,KAAK,aAAa,kBAAkB,KACvC,KAAK,mBAAmB;AAAA,EAE1B;AAAA,EAEA,MAAM,WAAW;AACV,UAAAC,IAAW,KAAK,aAAa,MAAM;AACzC,QAAI,CAACA;AAAU;AAGT,UAAAC,IAAa,OADD,MAAM,MAAMD,CAAQ,GACH;AAEnC,SAAK,YAAY,YAAYC,GAC7B,KAAK,aAAa,KAAK,aAAa,KAAK,UAAU,GAEnD,KAAK,YAAY;AAAA,EAClB;AAAA,EAEA,cAAc;AACb,UAAMC,IAAc,KAAK;AACzB,QAAI,CAACA;AAAa;AAEZ,UAAAC,IAAY,KAAK,aAAa,YAAY,GAC1CC,IAAa,KAAK,aAAa,aAAa;AAElD,IAAID,KACHD,EAAY,MAAM;AAAA,MACjB;AAAA,MACAC;AAAA,IAAA,GAIEC,KACHF,EAAY,MAAM;AAAA,MACjB;AAAA,MACAE;AAAA,IAAA;AAAA,EAGH;AAAA,EAEA,eAAe;AACR,UAAAC,IAAY,KAAK,aAAa,YAAY;AAChD,IAAKA,KAEA,KAAA,MAAM,YAAY,mCAAmCA,CAAS;AAAA,EACpE;AAAA,EAEA,qBAAqB;AACd,UAAAC,IAAkB,KAAK,aAAa,kBAAkB;AAC5D,IAAKA,KAEL,KAAK,MAAM;AAAA,MACV;AAAA,MACAA;AAAA,IAAA;AAAA,EAEF;AACD;AAEAC,EAAW,OAAO,sBAAsBX,CAAmB;"}