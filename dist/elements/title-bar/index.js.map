{"version":3,"file":"index.js","sources":["../../../elements/title-bar/index.ts"],"sourcesContent":["import { DefineOnce } from '../../util'\nimport { TITLE } from '../typo'\nimport { titleBarStyle } from './style.css'\n\nclass ShadeTitleBar extends HTMLElement {\n\tstatic observedAttributes = ['title', 'back']\n\n\tprivate titleElement = document.createElement(TITLE)\n\n\tconstructor() {\n\t\tsuper()\n\t}\n\n\tconnectedCallback() {\n\t\tthis.classList.add(titleBarStyle)\n\t\tthis.insertAdjacentElement('afterbegin', this.titleElement)\n\t}\n\n\tattributeChangedCallback(\n\t\tname: string,\n\t\t_oldValue: string | null,\n\t\tnewValue: string | null,\n\t) {\n\t\tif (name === 'title') {\n\t\t\tthis.titleElement.textContent = newValue\n\t\t\treturn\n\t\t}\n\n\t\tif (name === 'back') {\n\t\t\tconst useBack = newValue !== null\n\t\t\tconst title = this.titleElement.textContent\n\n\t\t\tthis.titleElement.textContent = (useBack ? '‚Üê' : '') + title\n\t\t\tthis.titleElement.style.cursor = useBack ? 'pointer' : 'default'\n\n\t\t\tif (useBack) {\n\t\t\t\tthis.titleElement.addEventListener(\n\t\t\t\t\t'click',\n\t\t\t\t\tShadeTitleBar.onTitleClicked,\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\tthis.titleElement.removeEventListener(\n\t\t\t\t\t'click',\n\t\t\t\t\tShadeTitleBar.onTitleClicked,\n\t\t\t\t)\n\t\t\t}\n\n\t\t\treturn\n\t\t}\n\t}\n\n\tstatic onTitleClicked() {\n\t\thistory.back()\n\t}\n}\n\nconst NAME = 'sh-title-bar'\nexport default NAME\nDefineOnce.define(NAME, ShadeTitleBar)\n\nexport interface ShadeTitleBarProps {\n\ttitle?: string\n\tback?: boolean\n}\n"],"names":["_ShadeTitleBar","TITLE","titleBarStyle","name","_oldValue","newValue","useBack","title","ShadeTitleBar","NAME","DefineOnce"],"mappings":";;;AAIA,MAAMA,IAAN,MAAMA,UAAsB,YAAY;AAAA,EAKvC,cAAc;AACP,aAHC,KAAA,eAAe,SAAS,cAAcC,CAAK;AAAA,EAInD;AAAA,EAEA,oBAAoB;AACd,SAAA,UAAU,IAAIC,CAAa,GAC3B,KAAA,sBAAsB,cAAc,KAAK,YAAY;AAAA,EAC3D;AAAA,EAEA,yBACCC,GACAC,GACAC,GACC;AACD,QAAIF,MAAS,SAAS;AACrB,WAAK,aAAa,cAAcE;AAChC;AAAA,IACD;AAEA,QAAIF,MAAS,QAAQ;AACpB,YAAMG,IAAUD,MAAa,MACvBE,IAAQ,KAAK,aAAa;AAEhC,WAAK,aAAa,eAAeD,IAAU,MAAM,MAAMC,GACvD,KAAK,aAAa,MAAM,SAASD,IAAU,YAAY,WAEnDA,IACH,KAAK,aAAa;AAAA,QACjB;AAAA,QACAN,EAAc;AAAA,MAAA,IAGf,KAAK,aAAa;AAAA,QACjB;AAAA,QACAA,EAAc;AAAA,MAAA;AAIhB;AAAA,IACD;AAAA,EACD;AAAA,EAEA,OAAO,iBAAiB;AACvB,YAAQ,KAAK;AAAA,EACd;AACD;AAjDQA,EAAA,qBAAqB,CAAC,SAAS,MAAM;AAD7C,IAAMQ,IAANR;AAoDA,MAAMS,IAAO;AAEbC,EAAW,OAAOD,GAAMD,CAAa;"}